[![Typing SVG](https://readme-typing-svg.herokuapp.com?font=Times+new+roman&weight=600&size=30&pause=1000&color=F711E2&background=72878429&center=true&vCenter=true&multiline=true&width=435&lines=%D0%A1%D1%82%D0%B0%D1%80%D0%B1%D0%B0%D0%BD%D0%BA+%F0%9F%8C%9F)](https://git.io/typing-svg)

# Цель проекта
:sunglasses: Увеличение продаж: Подбор наиболее подходящих продуктов для каждого клиента с целью повышения вероятности покупки.

:sunglasses: Индивидуальный подход: Рекомендации формируются с учётом особенностей и потребностей каждого клиента.

# Описание проекта

Сервис предоставляет персонализированные рекомендации кредитных продуктов для пользователей банка на основе их транзакционной истории и заданных правил. Основной модуль реализован как Spring Boot-приложение, которое взаимодействует с встраиваемой базой данных H2. Сервис предоставляет REST API для получения рекомендаций, управления правилами и сбора статистики их срабатывания. Telegram-бот реализован в виде отдельного микросервиса, который взаимодействует с основным модулем через REST API, отправляя HTTP-запросы для получения рекомендаций по имени пользователя.

# Основные функции

* Получение рекомендаций по ID пользователя через REST API.

* Управление правилами рекомендаций (добавление, удаление, просмотр).

* Кеширование результатов запросов для повышения производительности.

* Telegram-бот как отдельный микросервис, взаимодействующий с основным модулем через REST API.

* Сбор статистики срабатывания правил для анализа их эффективности.

* Сброс кеша рекомендаций через API.

# Технологии:

* **Основные технологии**:

    - **Spring Boot** (для создания микросервиса).

    - **H2** (встраиваемая база данных с информацией об операциях клиентов банка).

    - **PostgresSQL** (база данных для хранения динамических правил)

    - **REST API** (для взаимодействия с внешними системами)

    - **Telegram Bot API** (для интеграции с Telegram)

    - **Liquibase** ( для управления миграциями базы данных)

* **Вспомогательные библиотеки**:
  
    - **Caffeine** (для кэширования запросов к базе данных)

* **Инструменты для разработки и тестирования**:

    - **Lombok** (для ускорения разработки и повышения читаемости кода)

* **Документация**:

    - **Swagger** (для документирования в формате OpenAPI)

# Как использовать

1. Запустите приложение.

2. Используйте REST API для получения рекомендаций, управления правилами и сбора статистики.

3. Запустите Telegram-бот как отдельный микросервис

4. Взаимодействуйте с Telegram-ботом для получения рекомендаций по имени пользователя.

* **Пример запроса к API:**

``` 
GET /recommendation/cd515076-5d8a-44be-930e-8d4fcb79f42d
```

Ответ:

```
{
  "userId": "cd515076-5d8a-44be-930e-8d4fcb79f42d",
  "recommendations": [
    {
      "id": "147f6a0f-3b91-413b-ab99-87f081d60d5a",
      "name": "Invest 500",
      "text": "Откройте свой путь к успеху с индивидуальным инвестиционным счетом (ИИС) от нашего банка!\nВоспользуйтесь налоговыми льготами и начните инвестировать с умом. Пополните счет до конца\nгода и получите выгоду в виде вычета на взнос в следующем налоговом периоде.\nНе упустите возможность разнообразить свой портфель, снизить риски и следить за актуальными\nрыночными тенденциями. Откройте ИИС сегодня и станьте ближе к финансовой независимости!\n"
    },
    {
      "id": "59efc529-2fff-41af-baff-90ccd7402925",
      "name": "Top Saving",
      "text": "Откройте свою собственную «Копилку» с нашим банком! «Копилка» — это уникальный банковский инструмент,\nкоторый поможет вам легко и удобно накапливать деньги на важные цели. Больше никаких забытых чеков и\nпотерянных квитанций — всё под контролем!\nПреимущества «Копилки»:\nНакопление средств на конкретные цели. Установите лимит и срок накопления, и банк будет автоматически\nпереводить определенную сумму на ваш счет.\nПрозрачность и контроль. Отслеживайте свои доходы и расходы, контролируйте процесс накопления и\nкорректируйте стратегию при необходимости.\nБезопасность и надежность. Ваши средства находятся под защитой банка, а доступ к ним возможен только\nчерез мобильное приложение или интернет-банкинг.\nНачните использовать «Копилку» уже сегодня и станьте ближе к своим финансовым целям!\n"
    }
  ]
}
```

* **Команда для Telegram-бота:**

```
/recommend Имя_пользователя
```

Ответ:

```
Здравствуйте, Имя_пользовател

Новые продукты для вас:
- Top Saving
Откройте свою собственную «Копилку» с нашим банком! «Копилка» — это уникальный банковский инструмент,
который поможет вам легко и удобно накапливать деньги на важные цели. Больше никаких забытых чеков и
потерянных квитанций — всё под контролем!
```

Полное описание всех команд доступно по ссылке - [Документация REST API]

# Сборка и запуск проекта

Проект запускается локально. Подробная инструкция по развертыванию и запуску доступна на странице [Требования по развертыванию и запуску.](#title1) <a id="title1"></a>

**Проверка работы:**

* Основной модуль будет доступен по адресу: http://localhost:8080.

* Telegram-бот начнет работать после успешного запуска и будет готов к взаимодействию.
